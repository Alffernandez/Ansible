ansible_tower_config:
  default:
    #
    # INVENTORIES
    #
    inventories:
      SCHRODERS_INTERNAL_ansible_unix_inventory_dev: &inventory-ansible-unix-inventory-dev
        organization: SCHRODERS_INTERNAL
        description: Ansible UNIX inventory dev based on the CMDB only, for SCv2 testing
      UNIX_ansible_unix_inventory: &inventory-ansible-unix-inventory
        organization: UNIX
        description: Ansible UNIX inventory
      PRODSUPPORT_apps_automation: &inventory-apps_automation
        organization: PRODSUPPORT
        description: Application control inventory
      STORAGE_pure: &inventory-STORAGE_pure
        organization: STORAGE
        description: inventory for Pure Flash arrays 
      STORAGE_pure_offload_flasharrays: &inventory-STORAGE_pure_offload_flasharrays
        organization: STORAGE
        description: inventory for STORAGE_pure_offload_flasharrays 
    #
    # INVENTORY SOURCES
    #
    inventory_sources: 
      STORAGE_pure_git:  &inventory_source-STORAGE_pure_git
        description: Project based pure inventory
        inventory: STORAGE_pure
        source: scm
        overwrite_vars: True 
        source_project: STORAGE_ansible_pure
        source_path: ./inventory
      STORAGE_pure_offload_flasharrays_git:  &inventory_source-STORAGE_pure_offload_flasharrays_git
        inventory: STORAGE_pure_offload_flasharrays
        source: scm
        overwrite_vars: True 
        source_project: STORAGE_pure_flasharray_offload_pod
        source_path: ./inventory
      SCHRODERS_INTERNAL_ansible_unix_inventory_dev_snow:  &inventory_source-ansible-unix-inventory-dev_snow
        description: ServiceNow Ansible UNIX dynamic inventory
        inventory: SCHRODERS_INTERNAL_ansible_unix_inventory_dev
        source: scm
        overwrite_vars: False
        overwrite: True 
        source_project: SCHRODERS_INTERNAL_sdrcompute_terraform
        credential: SNOW_dev_z_unixadm_prd
        update_cache_timeout: 0 # in Sync with redis cache
        source_path: ./dev_snow_dynamic_inventory.py 
      UNIX_ansible_unix_inventory_snow:    &inventory_source-ansible-unix-inventory_snow
        description: ServiceNow Ansible UNIX dynamic inventory
        inventory: UNIX_ansible_unix_inventory
        source: scm
        source_project: UNIX_ansible_unix_inventory
        credential: SNOW_z_unixadm_prd
        update_cache_timeout: 3600 # in Sync with redis cache
        source_path: ./snow_dynamic_inventory.py 
        update_on_project_update: False 
        update_on_launch: False  # This runs on a schedule now 
      SCHRODERS_INTERNAL_ansible_unix_inventory_git:  &inventory_source-internal-ansible-unix-inventory_git
        description: GIT Ansible UNIX inventory
        inventory: SCHRODERS_INTERNAL_ansible_unix_inventory_dev
        source: scm
        source_project: UNIX_ansible_unix_inventory
        overwrite: True 
        overwrite_vars: True 
        source_path: . 
        update_on_project_update: False  # Enabling this will result in CMDB data missing
        update_on_launch: False # No templates on the inventory project itself, and it needs to be run immediately before the SNOW source 
      UNIX_ansible_unix_inventory_git:    &inventory_source-ansible-unix-inventory_git
        description: GIT Ansible UNIX inventory
        inventory: UNIX_ansible_unix_inventory
        source: scm
        source_project: UNIX_ansible_unix_inventory
        overwrite: True 
        overwrite_vars: True 
        source_path: . 
        update_on_project_update: False  # Enabling this will result in CMDB data missing
        update_on_launch: False # No templates on hte inventory project itself, and it needs to be run immediately before the SNOW source 
      PRODSUPPORT_apps_automation_git:  &inventory_source-apps_automation_git
        description: GIT Application control inventory
        inventory: PRODSUPPORT_apps_automation
        source: scm
        source_project: PRODSUPPORT_apps_automation
        overwrite: True 
        overwrite_vars: True 
        source_path: inventory
        update_on_project_update: True 
  prd:
    inventories:
      UNIX_ansible_unix_inventory:
        <<: *inventory-ansible-unix-inventory
      STORAGE_pure:  
        <<: *inventory-STORAGE_pure  
      STORAGE_pure_offload_flasharrays:
        <<: *inventory-STORAGE_pure_offload_flasharrays     
    inventory_sources:
      UNIX_ansible_unix_inventory_git:
        <<: *inventory_source-ansible-unix-inventory_git
      UNIX_ansible_unix_inventory_snow:
        <<: *inventory_source-ansible-unix-inventory_snow
      UNIX_ansible_unix_inventory_snow_clean:
        <<: *inventory_source-ansible-unix-inventory_snow
        overwrite: True 
        overwrite_vars: True 
      STORAGE_pure_git:
        <<: *inventory_source-STORAGE_pure_git
      STORAGE_pure_offload_flasharrays_git:
        <<: *inventory_source-STORAGE_pure_offload_flasharrays_git
  dev:
    inventories:
      UNIX_ansible_unix_inventory:
        <<: *inventory-ansible-unix-inventory
      PRODSUPPORT_apps_automation:
        <<: *inventory-apps_automation
      SCHRODERS_INTERNAL_ansible_unix_inventory_dev:
        <<: *inventory-ansible-unix-inventory-dev
      STORAGE_pure:  
        <<: *inventory-STORAGE_pure  
      STORAGE_pure_offload_flasharrays:
        <<: *inventory-STORAGE_pure_offload_flasharrays       
    inventory_sources:
      UNIX_ansible_unix_inventory_git:
        <<: *inventory_source-ansible-unix-inventory_git
      UNIX_ansible_unix_inventory_snow:
        <<: *inventory_source-ansible-unix-inventory_snow
      UNIX_ansible_unix_inventory_snow_clean:
        <<: *inventory_source-ansible-unix-inventory_snow
        overwrite: True 
        overwrite_vars: True 
      SCHRODERS_INTERNAL_ansible_unix_inventory_dev_snow:
        <<: *inventory_source-ansible-unix-inventory-dev_snow
      SCHRODERS_INTERNAL_ansible_unix_inventory_git:
        <<: *inventory_source-internal-ansible-unix-inventory_git
      STORAGE_pure_offload_flasharrays_git:
        <<: *inventory_source-STORAGE_pure_offload_flasharrays_git
#     PRODSUPPORT_apps_automation_git:
#       <<: *inventory_source-apps_automation_git
      STORAGE_pure_git:
        <<: *inventory_source-STORAGE_pure_git
  c_b:
    inventories:
      UNIX_ansible_unix_inventory:
        <<: *inventory-ansible-unix-inventory   
    inventory_sources:
      UNIX_ansible_unix_inventory_snow:
        <<: *inventory_source-ansible-unix-inventory_snow
      UNIX_ansible_unix_inventory_snow_clean:
        <<: *inventory_source-ansible-unix-inventory_snow
      UNIX_ansible_unix_inventory_git:
        <<: *inventory_source-ansible-unix-inventory_git    