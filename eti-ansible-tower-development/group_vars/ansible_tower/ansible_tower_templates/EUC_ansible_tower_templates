---
# For possible options see https://docs.ansible.com/ansible/latest/collections/awx/awx/job_template_module.html#ansible-collections-awx-awx-job-template-module
ansible_tower_config:
  default:
    job_templates:
      EUC_l_drive_acls:  &EUC_l_drive_acls
        description: Sets RO ACLs on home directories My Documents
        inventory: SCHRODERS_localhost_inventory
        credentials: 
          - MACHINE_EUC_z_onedriveperm_prd
        project: EUC_ansible_playbooks
        concurrent_jobs_enabled: True 
        playbook: l_drive_acls.yml
        survey_enabled: True 
        extra_vars:
          ansible_user: z_OneDrivePerm_prd@SCHRODERS.COM # This is required to use become in win_shell
        survey_spec:
          name: ''
          description: ''
          spec:
            - question_name: Action
              type: multiplechoice
              variable: acl_action
              default: "Read Only"
              required: True
              choices: 
                - "Read Only"
                - "Modify"
            - question_name: List of folders and usernames separated by coma (Folder,Username), with no header
              type: textarea
              variable: drive_list
              required: True

  prd:
    job_templates:
      EUC_l_drive_acls: 
        <<: *EUC_l_drive_acls
  dev:
    job_templates:
      EUC_l_drive_acls: 
        <<: *EUC_l_drive_acls

  