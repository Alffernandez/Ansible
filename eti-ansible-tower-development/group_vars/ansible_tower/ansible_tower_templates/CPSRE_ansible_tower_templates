---
# For possible options see https://docs.ansible.com/ansible/latest/collections/awx/awx/job_template_module.html#ansible-collections-awx-awx-job-template-module
ansible_tower_config:
  default:
    job_templates:
      CPSRE_servicenow_mid_deploy:  &CPSRE_servicenow_mid_deploy
        description: ServiceNow midserver deployment
        inventory: SCHRODERS_localhost_inventory
        credentials:
          - VAULT_CPSRE_vault
        concurrent_jobs_enabled: True 
        project: CPSRE_servicenow_mid
        playbook: servicenow-mid.yml
        survey_enabled: True
        survey_spec:
          name: ''
          description: ''
          survey_enabled: True
          spec:
            - question_name: Servicenow Server
              question_description: ""
              required: True
              type: multiplechoice
              variable: snow_server
              default: schrodersdev.service-now.com
              choices:
                - schrodersdev.service-now.com
                - schrodersprod.service-now.com
            - question_name: Mid Servers
              question_description: List of mid servers to deploy to, one line per server, fqdn
              required: True
              type: textarea
              variable: mid_servers
  prd:
    job_templates:
      CPSRE_servicenow_mid_deploy:
        <<: *CPSRE_servicenow_mid_deploy
  dev:
    job_templates:
      CPSRE_servicenow_mid_deploy:
        <<: *CPSRE_servicenow_mid_deploy
