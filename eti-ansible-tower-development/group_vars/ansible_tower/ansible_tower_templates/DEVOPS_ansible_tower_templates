---
# For possible options see https://docs.ansible.com/ansible/latest/collections/awx/awx/job_template_module.html#ansible-collections-awx-awx-job-template-module
ansible_tower_config:
  default:
    job_templates:
      DEVOPS_splunk_on_prem_update_index:  &DEVOPS_splunk_on_prem_update_index
        description: Splunk index configuration deployment
        inventory: DEVOPS_ansible_unix_inventory
        credentials:
          - MACHINE_z_unixadm_prd
          - VAULT_unix_ansible_vault
        concurrent_jobs_enabled: False 
        project: DEVOPS_ansible_unix_apps
        playbook: splunk_on_prem.yml
        job_tags: spl_infra, spl_idxcluster
        become_enabled: True
        extra_vars:
          SERIAL: 1
          
      DEVOPS_splunk_on_prem_update_roles:  &DEVOPS_splunk_on_prem_update_roles
        description: Splunk index configuration deployment
        inventory: DEVOPS_ansible_unix_inventory
        credentials:
          - MACHINE_z_unixadm_prd
          - VAULT_unix_ansible_vault
        concurrent_jobs_enabled: False 
        project: DEVOPS_ansible_unix_apps
        playbook: splunk_on_prem.yml
        job_tags: spl_infra, spl_shcluster
        become_enabled: True
        extra_vars:
          SERIAL: 1
          splunk_roles: True
        
  prd:
    job_templates:
      DEVOPS_splunk_on_prem_update_index_London_NODES:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexerslave01_lon_prd
      DEVOPS_splunk_on_prem_update_index_London_MANAGER:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexermaster01_lon_prd
      DEVOPS_splunk_on_prem_update_index_Singapore_NODES:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexermaster01_sin_prd
      DEVOPS_splunk_on_prem_update_index_Singapore_MANAGER:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexermaster01_sin_prd
      DEVOPS_splunk_on_prem_update_roles_London_prod:
        <<: *DEVOPS_splunk_on_prem_update_roles
        limit: splunksearchheadcluster01_lon_prd
      DEVOPS_splunk_on_prem_update_roles_Singapore_prod:
        <<: *DEVOPS_splunk_on_prem_update_roles
        limit: splunksearchheadcluster01_sin_prd        
  dev:
    job_templates:
      DEVOPS_splunk_on_prem_update_index_London_NODES:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexerslave01_lon_prd
      DEVOPS_splunk_on_prem_update_index_London_MANAGER:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexermaster01_lon_prd
      DEVOPS_splunk_on_prem_update_index_Singapore_NODES:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexermaster01_sin_prd
      DEVOPS_splunk_on_prem_update_index_Singapore_MANAGER:
        <<: *DEVOPS_splunk_on_prem_update_index
        limit: splunkindexermaster01_sin_prd
      DEVOPS_splunk_on_prem_update_roles_London_prod:
        <<: *DEVOPS_splunk_on_prem_update_roles
        limit: splunksearchheadcluster01_lon_prd
      DEVOPS_splunk_on_prem_update_roles_Singapore_prod:
        <<: *DEVOPS_splunk_on_prem_update_roles
        limit: splunksearchheadcluster01_sin_prd
        
        